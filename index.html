<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soldier Factory</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="tooltip" style="position: absolute; display: none; background-color: #333; color: #fff; padding: 5px; border-radius: 3px; font-size: 12px;"></div>

    <div id="message-box" class="message-box">
        <!-- Messages will appear here -->
    </div>
    <div class="container">
        <div id="game-content" class="content-box">

            <h1>Soldier Factory</h1>
            <p id="soldiers-count">Soldiers: 0</p>
            <p id="money-count">Money: $0</p>

            <button id="produce-soldier" onclick="produceSoldier(1)">Produce Soldier (Cost: 1 Gun)</button>
            <p id="Gun-count">Gun: 10</p>
            <p id="Gun-cost">Current Gun Price: $10</p>
            <button id="buy-Gun" onclick="buyGun()">Buy Gun</button>

            <h3>Set Soldier Price:</h3>
            <input type="number" id="price-input"  min="0.1" step="0.1" onchange="updatePrice()">
        </div>
        <div id="upgrades-content" class="content-box">
            <h1>Upgrades</h1>
            <h3>Marketing:</h3>
            <p id="marketing-level">Marketing Level: 1 (Cost: $50)</p>
            <button id="buy-marketing" onclick="buyMarketing()">Buy Marketing</button>

            <h3>Automation:</h3>
            <p id="buy-automation1"> Produces 1 soldier/sec</p>
            <button id="buy-automation" onclick="buyAutomation()">Buy Automation (Cost: $100) - Produces 1 soldier/sec</button>

            <h3>Gun Upgrade:</h3>
            <p id="Gun-upgrade-level">Gun Upgrade Level: 1 (Cost: $200)</p>
            <button id="buy-Gun-upgrade" onclick="buyGunUpgrade()">Buy Gun Upgrade</button>
        </div>
        <div id="war-content" class="content-box">
            <h1>Infiltration</h1>
            <p id="war-status">Bet money and choose your risk level:</p>
            <input type="number" id="war-bet-input" min="0" step="1" placeholder="Bet amount">
        <p>
        </p>
        <div style="    display: flex;     flex-direction: column;   align-items: center;">
            <button 
                onmouseenter="showDynamicTooltip(event, 0.4, 1.2)" onmousemove="positionTooltip(event)" onmouseleave="hideTooltip()" onclick="startWar('low')">Low Risk - Low Reward
            </button>
            <button 
                onmouseenter="showDynamicTooltip(event, 0.7, 1.5)" onmousemove="positionTooltip(event)" onmouseleave="hideTooltip()" onclick="startWar('medium')">Medium Risk - Medium Reward
            </button>
            <button 
                onmouseenter="showDynamicTooltip(event, 0.95, 2)" onmousemove="positionTooltip(event)" onmouseleave="hideTooltip()"  onclick="startWar('high')">High Risk - High Reward
            </button>

        </div>
            <p id="war-odds1">Better Odds:</p>
            <button id="war-odds" onclick="increaseOdds()">Increase Odds</button>
            
            <p>Science <span id="Science">0</span></p>

        </div>
        <div id="combat-content" class="content-box">
            <h1>Combat</h1>
            
            <div style="position: relative;">

            <canvas id="combatCanvas" ></canvas>
            <div class="overlay">
                <span id="science-reward">1</span>
                <img src="vial.webp" id="vial">
            </div>
        </div>

        <div id="upgrade-panel">
            <h3>Soldier Upgrades</h3>
            <div class="upgrade-container">
        
                <div class="upgrade-item">
                    <p>Speed: <span id="speed-level">1</span></p>
                    <div id="upgrade-buttons">
                        <button class="assign-btn" id="speed-general-assign" onclick="assignGeneralsToUpgrade('speed')">Assign General</button>
                        <button class="remove-btn" id="speed-general-remove" disabled onclick="removeGeneralsFromUpgrade('speed')">Remove General</button>
                    </div>
                    <div class="circular-progress-container">
                        <svg class="circular-progress" viewBox="0 0 36 36">
                            <path class="progress-bg" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                            <path id="speed-upgrade-progress" class="progress" stroke-dasharray="0, 100" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                        </svg>
                        <div class="progress-text"><span id="speed-upgrade-timer">0</span>s</div>
                    </div>
                    <div class="general-count">
                        üéñÔ∏è <span id="speed-general-count">0</span>
                    </div>
                </div>
                <div class="upgrade-item">
                    
                    <p>Combat: <span id="combat-level">1</span></p>
                    <div id="upgrade-buttons">
                    <button class="assign-btn" id="combat-general-assign" onclick="assignGeneralsToUpgrade('combat')">Assign General</button>
                    <button class="remove-btn" id="combat-general-remove" disabled onclick="removeGeneralsFromUpgrade('combat')">Remove General</button>
                </div>
                <div class="circular-progress-container">
                    <svg class="circular-progress" viewBox="0 0 36 36">
                      <path class="progress-bg" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                      <path id="combat-upgrade-progress" class="progress" stroke-dasharray="0, 100" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                    </svg>
                    <div class="progress-text"><span id="combat-upgrade-timer">0</span>s</div>
                  </div>
                  <div class="general-count">
                    üéñÔ∏è <span id="combat-general-count">0</span>
                </div>
                                  </div>
        
                    <div class="upgrade-item">
                    <p>HP: <span id="hp-level">1</span></p>
                    <div id="upgrade-buttons">
                    <button class="assign-btn" id="hp-general-assign" onclick="assignGeneralsToUpgrade('hp')">Assign General</button>
                    <button class="remove-btn" id="hp-general-remove" disabled onclick="removeGeneralsFromUpgrade('hp')">Remove General</button>
                </div>
                <div class="circular-progress-container">
                    <svg class="circular-progress" viewBox="0 0 36 36">
                      <path class="progress-bg" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                      <path id="hp-upgrade-progress" class="progress" stroke-dasharray="0, 100" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                    </svg>
                    <div class="progress-text"><span id="hp-upgrade-timer">0</span>s</div>
                  </div>
                  <div class="general-count">
                    üéñÔ∏è <span id="hp-general-count">0</span>
                </div>
                  
                            </div>
        
                <div class="upgrade-item">
                    <p>Resilience: <span id="hazard-level">1</span></p>
                    <div id="upgrade-buttons">
                    <button class="assign-btn" id="hazard-general-assign" onclick="assignGeneralsToUpgrade('hazard')">Assign General</button>
                    <button class="remove-btn" id="hazard-general-remove" disabled onclick="removeGeneralsFromUpgrade('hazard')">Remove General</button>
                </div>
                <div class="circular-progress-container">
                    <svg class="circular-progress" viewBox="0 0 36 36">
                      <path class="progress-bg" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                      <path id="hazard-upgrade-progress" class="progress" stroke-dasharray="0, 100" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                    </svg>
                    <div class="progress-text"><span id="hazard-upgrade-timer">0</span>s</div>
                  </div>
                  <div class="general-count">
                    üéñÔ∏è <span id="hazard-general-count">0</span>
                </div>
                                  </div>
                <div class="upgrade-item">
                    <p>Soldiers: <span id="soldiers-level">1</span></p>
                    <div id="upgrade-buttons">
                    <button class="assign-btn" id="soldiers-general-assign" onclick="assignGeneralsToUpgrade('soldiers')">Assign General</button>
                    <button class="remove-btn" id="soldiers-general-remove" disabled onclick="removeGeneralsFromUpgrade('soldiers')">Remove General</button>
                </div>
                <div class="circular-progress-container">
                    <svg class="circular-progress" viewBox="0 0 36 36">
                      <path class="progress-bg" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                      <path id="soldiers-upgrade-progress" class="progress" stroke-dasharray="0, 100" d="M18 2.08a 15.92 15.92 0 1 1 0 31.83 15.92 15.92 0 1 1 0-31.83"/>
                    </svg>
                    <div class="progress-text"><span id="soldiers-upgrade-timer">0</span>s</div>
                  </div>
                  <div class="general-count">
                    üéñÔ∏è <span id="soldiers-general-count">0</span>
                </div>
                                  </div>
            </div>
            <button id="startCombat" class="start-btn">Start Combat</button>

        </div>
        
</div>
<div id="combat-content" class="content-box">
            <h1>Generals</h1>
            <h3>Buy Generals</h3>
            <p>Generals: <span id="generals-count">0</span></p>
            <button id="buy-general" onclick="buyGeneral()">Buy General (Cost: 10 Science)</button>
            <!-- <h3>Upgrade Sections</h3> -->
            <!-- <div>
                <p>Speed Upgrade Progress: <span id="speed-upgrade-progress">0%</span></p>
                <button onclick="assignGeneralToUpgrade('speed')">Assign General to Speed Upgrade</button>
                <p>Combat Upgrade Progress: <span id="combat-upgrade-progress">0%</span></p>
                <button onclick="assignGeneralToUpgrade('combat')">Assign General to Combat Upgrade</button>
                <p>HP Upgrade Progress: <span id="hp-upgrade-progress">0%</span></p>
                <button onclick="assignGeneralToUpgrade('hp')">Assign General to HP Upgrade</button>
            </div> -->
</div>

    </div>
    <script src="game.js"></script>
    <script src="combat.js"></script>
    <script src="generals.js"></script>


</body>
</html>
